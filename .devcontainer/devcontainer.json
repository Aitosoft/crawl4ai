{
  "name": "crawl4ai (Python 3.11)",
  "image": "mcr.microsoft.com/devcontainers/python:3.11-bookworm",

  "features": {
    "ghcr.io/devcontainers/features/node:1": { "version": "20" },
    "ghcr.io/devcontainers/features/azure-cli:1": {}
  },

  "runArgs": ["--shm-size=1g"],
  "forwardPorts": [11235],

  "postCreateCommand": "bash -lc \"sudo apt-get update && sudo apt-get install -y libnss3 libatk1.0-0 libatk-bridge2.0-0 libgbm1 libgtk-3-0 libxss1 libasound2 libdrm2 libx11-xcb1 libxcomposite1 libxdamage1 libxrandr2 libcups2 fonts-liberation libappindicator3-1 xdg-utils && pip install --upgrade pip && (pip install -e .[dev] || pip install -e .) && crawl4ai-setup && crawl4ai-doctor\"",

  "customizations": {
    "vscode": {
      "extensions": [
        "ms-python.python",
        "ms-python.vscode-pylance",
        "ms-azuretools.vscode-docker"
      ]
    }
  }
}
